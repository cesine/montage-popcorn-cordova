montageDefine("e0871b3","ui/main.reel/main",{dependencies:["montage","montage/ui/component","model/remotemediator","model/appdata"],factory:function(e,t){var a=e("montage").Montage,n=e("montage/ui/component").Component,o=e("model/remotemediator").Remotemediator,i=e("model/appdata").AppData;t.Main=a.create(n,{appData:{value:i.create()},remoteMediator:{value:o.create()},categoryId:{value:null},_categoryButtonGroup:{value:null},didCreate:{value:function(){this.application.addEventListener("remoteDataReceived",this,!1),this.application.addEventListener("openTrailer",this,!1),this.canDrawGate.setField("latestBoxofficeMovies",!1),this.remoteMediator.load()}},templateDidLoad:{value:function(){var e=this.templateObjects;this._categoryButtonGroup=[e.latest,e.theaters,e.dvd,e.upcoming]}},handleRemoteDataReceived:{value:function(e){var t=e.detail.data,a=e.detail.type;this.appData[a]=t,"latestBoxofficeMovies"===a&&(this.canDrawGate.setField("latestBoxofficeMovies",!0),this.dispatchEventNamed("dataReceived",!0),this.changeCategory(a))}},handleOpenTrailer:{value:function(e){var t=e.detail,a=this.templateObjects.popup;this.remoteMediator.searchYoutubeTrailer(t,function(e){a.openTrailer(e)})}},handleCategoryButtonAction:{value:function(e){this.changeCategory(e.target.category)}},changeCategory:{value:function(e){var t=this._categoryButtonGroup;this.categoryId=e;for(var a=0;t.length>a;a++)t[a].pressed=t[a].category===e}}})}});